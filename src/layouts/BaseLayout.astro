---
import '../styles/global.css';

interface Props {
  title: string;
  description: string;
  canonical?: string;
  ogImage?: string;
  ogType?: string;
  keywords?: string;
  jsonLd?: any[];
}

const {
  title,
  description,
  canonical = Astro.url.pathname,
  ogImage = '/assets/covers/hexaaway-cover.png',
  ogType = 'website',
  keywords = 'hexa away, hexa away game, hexa away online, hexa away unblocked, hexagon puzzle, hexagon puzzle game, free puzzle games, logic game, brain teaser, puzzle games online, hex away, play hexa away, hexa away free',
  jsonLd = []
} = Astro.props;

const siteUrl = 'https://hexaaway.net';
const fullUrl = `${siteUrl}${canonical}`;
const fullOgImage = ogImage.startsWith('http') ? ogImage : `${siteUrl}${ogImage}`;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  
  <!-- Primary Meta Tags -->
  <title>{title}</title>
  <meta name="title" content={title}>
  <meta name="description" content={description}>
  <meta name="keywords" content={keywords}>


  <meta name="author" content="Hexa Away">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  
  
  <!-- Language Alternates -->
  <link rel="alternate" hreflang="en" href={fullUrl}>
  <link rel="alternate" hreflang="x-default" href={fullUrl}>
  
  <!-- Canonical URL -->
  <link rel="canonical" href={fullUrl}>
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content={ogType}>
  <meta property="og:url" content={fullUrl}>
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content={fullOgImage}>
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="Hexa Away">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content={fullUrl}>
  <meta property="twitter:title" content={title}>
  <meta property="twitter:description" content={description}>
  <meta property="twitter:image" content={fullOgImage}>
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=2">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=2">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=2">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png?v=2">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=2">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png?v=2">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png?v=2">
  
  <!-- Android Chrome Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
  
  <!-- Web App Manifest -->
  <link rel="manifest" href="/site.webmanifest">
  
  
  <!-- Preload Critical Assets -->
  <link rel="preload" href="/assets/icons/hexaaway-icon.png" as="image" type="image/png">
  <link rel="preload" href="/assets/covers/hexaaway-cover-new.png" as="image" type="image/png">
  
  <!-- DNS Prefetch for Performance -->
  <link rel="dns-prefetch" href="https://hexa-away.com">
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  
  <!-- Preconnect to external domains for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://hexa-away.com">



  
  <!-- Theme Color -->
  <meta name="color-scheme" content="dark light">
  <meta name="theme-color" content="#0d1b2a">
  
  <!-- JSON-LD Structured Data -->
  {jsonLd.map((schema) => (
    <script type="application/ld+json" set:html={JSON.stringify(schema)} />
  ))}
  
  <!-- WebSite Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Hexa Away",
    "url": siteUrl,
    "description": "Play Hexa Away online for free! The best hexagon puzzle game unblocked. Challenging logic puzzles with clever gameplay. Play at school, work, or home - no download needed!",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": `${siteUrl}/search?q={search_term_string}`
      },
      "query-input": "required name=search_term_string"
    }
  })} />
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-to-main">Skip to main content</a>
  
  <slot />
</body>
</html>
